# 개발 일지

## Today 진행 내용 (약 2시간)

### 1) 자동 로그인 기능 구현
- 로그인 화면에 **“자동 로그인” 체크박스 UI** 추가
- 로그인 성공 시 자동 로그인 여부를 **localStorage**에 저장
- 자동 로그인 활성화 상태라면 **로그인 페이지 진입 시 자동 인증 절차 수행**
- **refresh 토큰 기반으로 access 토큰 재발급**
  - 인증 성공 시 로그인 화면을 스킵하고 **메인 페이지로 즉시 이동**
- **로그아웃 시 자동 로그인 상태 해제**
  - 공용 기기 사용 시 보안 이슈를 줄이기 위한 처리

### 2) 소셜 로그인(구글 로그인) 연동
- 구글 로그인 버튼 UI 구성 및 동작 연결
- 일반 로그인과 동일한 흐름으로 **토큰 발급/저장/라우팅**이 이어지도록 통합
- (추가 고려) 자동 로그인 옵션과의 연결을 위해 **소셜 로그인 시에도 동일한 인증 상태 관리 흐름 유지**

### 3) 병원 리스트 UI/UX 개선
- 거리순/정확도순 리스트 레이아웃을 **모바일 환경에서도 깨지지 않도록 보정**
  - 상단 정렬 토글: 줄바꿈 방지, 버튼 크기 및 간격 반응형 조정
  - 업데이트/새로고침 영역: 모바일에서 텍스트가 잘리지 않도록 **줄바꿈/정렬 방식 개선**
- 카드 레이아웃에서 우측 영역(예: 진행 컴포넌트 등)이 **항상 오른쪽에 고정되도록**
  - `flex-1`, `shrink-0`, `min-w-0` 조합으로 레이아웃 안정화
- 병원명 글자 길이가 길어도 **핵심 액션(길찾기)은 항상 노출**되도록 구조 수정
  - 병원명만 `truncate` 적용, 길찾기 링크는 별도 줄로 분리

### 4) 병원 리스트에 AI 매칭 정보(ai_matches) 시각화 추가
- AI 분석 결과로 전달되는 `ai_matches` 데이터를 **뱃지 UI**로 시각화
- **수용 가능 수량(숫자)** 과 **보유 여부(Y/N)** 를 구분하여 표현
- 거리순 / 정확도순 병원 리스트 모두에서 **동일한 매칭 정보 표시**
- 가독성을 고려해 색상/아이콘을 활용한 상태 뱃지 구성
- 표시 가능한 정보가 없을 경우 안내 문구 노출

---

## 학습한 내용
- 자동 로그인 구현 시 **아이디/비밀번호 저장이 아닌 토큰 기반 접근**이 보안상 필수적임을 이해
- refresh 토큰을 활용하면 사용자가 별도 입력 없이도 로그인 상태를 복구할 수 있음을 경험
- 로그인 페이지 진입 시점에서 인증 상태를 판단하여 **라우팅을 제어하는 방식**을 학습
- 서버에서 내려오는 구조화된 AI 결과(`ai_matches`)를 **사용자 친화적인 UI로 변환**하는 과정 이해
- 데이터 의미(수량/보유 여부)에 따라 UI 표현 방식을 분리하는 설계의 중요성 인지
- 반응형 UI에서 `min-w-0`, `truncate`, `shrink-0`, `flex-1` 조합이
  **깨짐 방지/고정 배치에 핵심**이라는 점을 체감

---

## 실패한 것 / 부족했던 점
- 초기에는 access 토큰 존재 여부만으로 자동 로그인 판단을 시도해 **만료 상황을 충분히 고려하지 못함**
- refresh 토큰 실패 케이스에 대한 예외 처리가 늦어 **디버깅 시간이 소요됨**
- ai_matches 데이터 구조를 초기에 명확히 정의하지 않아 **UI 설계가 뒤늦게 수정됨**
- 보안 및 UX 관점에서 자동 로그인 기능에 대한 사전 설계가 충분하지 못했던 점이 아쉬움
- 모바일 레이아웃 보정 과정에서 컴포넌트 간 간격/정렬 규칙을 일관되게 잡는 데 시간이 걸림

---

## 내일 해야 될 것
- 의료진 페이지 만들기
- 가용상태 **뺄셈 적용** (남은 병상/가용 수치 계산 반영)
- 전체적인 UI 개선
- 병원 상세 페이지 구현/보완
